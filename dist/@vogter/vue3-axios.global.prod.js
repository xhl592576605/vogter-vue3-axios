/*!
  * @vogter/vue3-axios v0.0.3
  * (c) 2021 @vogter/vue3-axios axios's extend
  * @license MIT
  */
var VogterVueAxios=function(e,t,r,n,o,i,s,a){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var u=c(e),p=c(t),h=c(r),f=c(n),l=c(o),d=c(i),m=c(s),g=c(a),y=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},_=Object.prototype.toString;function v(e){return"[object Array]"===_.call(e)}function $(e){return void 0===e}function b(e){return null!==e&&"object"==typeof e}function A(e){if("[object Object]"!==_.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function w(e){return"[object Function]"===_.call(e)}function E(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),v(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var O={isArray:v,isArrayBuffer:function(e){return"[object ArrayBuffer]"===_.call(e)},isBuffer:function(e){return null!==e&&!$(e)&&null!==e.constructor&&!$(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:b,isPlainObject:A,isUndefined:$,isDate:function(e){return"[object Date]"===_.call(e)},isFile:function(e){return"[object File]"===_.call(e)},isBlob:function(e){return"[object Blob]"===_.call(e)},isFunction:w,isStream:function(e){return b(e)&&w(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:E,merge:function e(){var t={};function r(r,n){t[n]=A(t[n])&&A(r)?e(t[n],r):A(r)?e({},r):v(r)?r.slice():r}for(var n=0,o=arguments.length;n<o;n++)E(arguments[n],r);return t},extend:function(e,t,r){return E(t,(function(t,n){e[n]=r&&"function"==typeof t?y(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function R(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var S=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(O.isURLSearchParams(t))n=t.toString();else{var o=[];O.forEach(t,(function(e,t){null!=e&&(O.isArray(e)?t+="[]":e=[e],O.forEach(e,(function(e){O.isDate(e)?e=e.toISOString():O.isObject(e)&&(e=JSON.stringify(e)),o.push(R(t)+"="+R(e))})))})),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};function j(){this.handlers=[]}j.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},j.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},j.prototype.forEach=function(e){O.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var x,C=j,D=function(e,t,r){return O.forEach(r,(function(r){e=r(e,t)})),e},B=function(e){return!(!e||!e.__CANCEL__)},P=function(e,t){O.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},q=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},F=function(e,t,r,n,o){var i=new Error(e);return q(i,t,r,n,o)},U=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(F("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)},k=O.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),O.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),O.isString(n)&&s.push("path="+n),O.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},T=function(e,t){return e&&!function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t},L=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],N=O.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=O.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},M=function(e){return new Promise((function(t,r){var n=e.data,o=e.headers;O.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",a=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(s+":"+a)}var c=T(e.baseURL,e.url);if(i.open(e.method.toUpperCase(),S(c,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n,o,s,a,c,u="getAllResponseHeaders"in i?(n=i.getAllResponseHeaders(),c={},n?(O.forEach(n.split("\n"),(function(e){if(a=e.indexOf(":"),o=O.trim(e.substr(0,a)).toLowerCase(),s=O.trim(e.substr(a+1)),o){if(c[o]&&L.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([s]):c[o]?c[o]+", "+s:s}})),c):c):null;U(t,r,{data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:u,config:e,request:i}),i=null}},i.onabort=function(){i&&(r(F("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){r(F("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(F(t,e,"ECONNABORTED",i)),i=null},O.isStandardBrowserEnv()){var u=(e.withCredentials||N(c))&&e.xsrfCookieName?k.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&O.forEach(o,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),O.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),r(e),i=null)})),n||(n=null),i.send(n)}))},H=function(){if(!x)try{x=d("follow-redirects")}catch(e){x=function(){}}x.apply(null,arguments)},z=h.URL,I=f.Writable,K=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){K[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var V=te("ERR_FR_REDIRECTION_FAILURE",""),X=te("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),J=te("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),W=te("ERR_STREAM_WRITE_AFTER_END","write after end");function G(e,t){I.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function Y(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(n){var o=n+":",i=r[o]=e[n],s=t[n]=Object.create(i);Object.defineProperties(s,{request:{value:function(e,n,i){if("string"==typeof e){var s=e;try{e=Q(new z(s))}catch(t){e=h.parse(s)}}else z&&e instanceof z?e=Q(e):(i=n,n=e,e={protocol:o});return"function"==typeof n&&(i=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=r,l.equal(n.protocol,o,"protocol mismatch"),H("options",n),new G(n,i)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=s.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function Z(){}function Q(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function ee(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function te(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return(r.prototype=new Error).constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}(G.prototype=Object.create(I.prototype)).abort=function(){this._currentRequest.removeAllListeners(),this._currentRequest.on("error",Z),this._currentRequest.abort(),this.emit("abort"),this.removeAllListeners()},G.prototype.write=function(e,t,r){if(this._ending)throw new W;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new J),this.abort()):r&&r()},G.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},G.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},G.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},G.prototype.setTimeout=function(e,t){var r=this;function n(){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),o()}),e)}function o(){clearTimeout(this._timeout),t&&r.removeListener("timeout",t),this.socket||r._currentRequest.removeListener("socket",n)}return t&&this.on("timeout",t),this.socket?n():this._currentRequest.once("socket",n),this.once("response",o),this.once("error",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){G.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(G.prototype,e,{get:function(){return this._currentRequest[e]}})})),G.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},G.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=h.format(this._options),n._redirectable=this,K)o&&n.on(o,K[o]);if(this._isRedirect){var i=0,s=this,a=this._requestBodyBuffers;!function e(t){if(n===s._currentRequest)if(t)s.emit("error",t);else if(i<a.length){var r=a[i++];n.finished||n.write(r.data,r.encoding,e)}else s._ended&&n.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},G.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",Z),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new X);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],ee(/^content-/i,this._options.headers));var n=ee(/^host$/i,this._options.headers)||h.parse(this._currentUrl).hostname,o=h.resolve(this._currentUrl,r);H("redirecting to",o),this._isRedirect=!0;var i=h.parse(o);if(Object.assign(this._options,i),i.hostname!==n&&ee(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var s={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,s)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var a=new V("Redirected request failed: "+e.message);a.cause=e,this.emit("error",a)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};var re=Y({http:u,https:p});re.wrap=Y;var ne="0.21.1",oe=re.http,ie=re.https,se=/https:?/;function ae(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(e){e.headers.host=e.host,ae(e,t,e.href)}}var ce=function(e){return new Promise((function(t,r){var n=function(e){t(e)},o=function(e){r(e)},i=e.data,s=e.headers;if(s["User-Agent"]||s["user-agent"]||(s["User-Agent"]="axios/"+ne),i&&!O.isStream(i)){if(Buffer.isBuffer(i));else if(O.isArrayBuffer(i))i=Buffer.from(new Uint8Array(i));else{if(!O.isString(i))return o(F("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));i=Buffer.from(i,"utf-8")}s["Content-Length"]=i.length}var a=void 0;e.auth&&(a=(e.auth.username||"")+":"+(e.auth.password||""));var c=T(e.baseURL,e.url),f=h.parse(c),l=f.protocol||"http:";if(!a&&f.auth){var d=f.auth.split(":");a=(d[0]||"")+":"+(d[1]||"")}a&&delete s.Authorization;var g=se.test(l),y=g?e.httpsAgent:e.httpAgent,_={path:S(f.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:s,agent:y,agents:{http:e.httpAgent,https:e.httpsAgent},auth:a};e.socketPath?_.socketPath=e.socketPath:(_.hostname=f.hostname,_.port=f.port);var v,$=e.proxy;if(!$&&!1!==$){var b=l.slice(0,-1)+"_proxy",A=process.env[b]||process.env[b.toUpperCase()];if(A){var w=h.parse(A),E=process.env.no_proxy||process.env.NO_PROXY,R=!0;if(E)R=!E.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&f.hostname.substr(f.hostname.length-e.length)===e||f.hostname===e))}));if(R&&($={host:w.hostname,port:w.port,protocol:w.protocol},w.auth)){var j=w.auth.split(":");$.auth={username:j[0],password:j[1]}}}}$&&(_.headers.host=f.hostname+(f.port?":"+f.port:""),ae(_,$,l+"//"+f.hostname+(f.port?":"+f.port:"")+_.path));var x=g&&(!$||se.test($.protocol));e.transport?v=e.transport:0===e.maxRedirects?v=x?p:u:(e.maxRedirects&&(_.maxRedirects=e.maxRedirects),v=x?ie:oe),e.maxBodyLength>-1&&(_.maxBodyLength=e.maxBodyLength);var C=v.request(_,(function(t){if(!C.aborted){var r=t,i=t.req||C;if(204!==t.statusCode&&"HEAD"!==i.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(m.createUnzip()),delete t.headers["content-encoding"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:i};if("stream"===e.responseType)s.data=r,U(n,o,s);else{var a=[];r.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(r.destroy(),o(F("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,i)))})),r.on("error",(function(t){C.aborted||o(q(t,e,null,i))})),r.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=O.stripBOM(t))),s.data=t,U(n,o,s)}))}}}));C.on("error",(function(t){C.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||o(q(t,e,null,C))})),e.timeout&&C.setTimeout(e.timeout,(function(){C.abort(),o(F("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",C))})),e.cancelToken&&e.cancelToken.promise.then((function(e){C.aborted||(C.abort(),o(e))})),O.isStream(i)?i.on("error",(function(t){o(q(t,e,null,C))})).pipe(C):C.end(i)}))},ue={"Content-Type":"application/x-www-form-urlencoded"};function pe(e,t){!O.isUndefined(e)&&O.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var he,fe={adapter:("undefined"!=typeof XMLHttpRequest?he=M:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(he=ce),he),transformRequest:[function(e,t){return P(t,"Accept"),P(t,"Content-Type"),O.isFormData(e)||O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)?e:O.isArrayBufferView(e)?e.buffer:O.isURLSearchParams(e)?(pe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):O.isObject(e)?(pe(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};fe.headers={common:{Accept:"application/json, text/plain, */*"}},O.forEach(["delete","get","head"],(function(e){fe.headers[e]={}})),O.forEach(["post","put","patch"],(function(e){fe.headers[e]=O.merge(ue)}));var le=fe;function de(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var me=function(e){return de(e),e.headers=e.headers||{},e.data=D(e.data,e.headers,e.transformRequest),e.headers=O.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),O.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||le.adapter)(e).then((function(t){return de(e),t.data=D(t.data,t.headers,e.transformResponse),t}),(function(t){return B(t)||(de(e),t&&t.response&&(t.response.data=D(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ge=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(e,t){return O.isPlainObject(e)&&O.isPlainObject(t)?O.merge(e,t):O.isPlainObject(t)?O.merge({},t):O.isArray(t)?t.slice():t}function c(n){O.isUndefined(t[n])?O.isUndefined(e[n])||(r[n]=a(void 0,e[n])):r[n]=a(e[n],t[n])}O.forEach(n,(function(e){O.isUndefined(t[e])||(r[e]=a(void 0,t[e]))})),O.forEach(o,c),O.forEach(i,(function(n){O.isUndefined(t[n])?O.isUndefined(e[n])||(r[n]=a(void 0,e[n])):r[n]=a(void 0,t[n])})),O.forEach(s,(function(n){n in t?r[n]=a(e[n],t[n]):n in e&&(r[n]=a(void 0,e[n]))}));var u=n.concat(o).concat(i).concat(s),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return O.forEach(p,c),r};function ye(e){this.defaults=e,this.interceptors={request:new C,response:new C}}ye.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=ge(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var t=[me,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},ye.prototype.getUri=function(e){return e=ge(this.defaults,e),S(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},O.forEach(["delete","get","head","options"],(function(e){ye.prototype[e]=function(t,r){return this.request(ge(r||{},{method:e,url:t,data:(r||{}).data}))}})),O.forEach(["post","put","patch"],(function(e){ye.prototype[e]=function(t,r,n){return this.request(ge(n||{},{method:e,url:t,data:r}))}}));var _e=ye;function ve(e){this.message=e}ve.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ve.prototype.__CANCEL__=!0;var $e=ve;function be(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new $e(e),t(r.reason))}))}be.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},be.source=function(){var e;return{token:new be((function(t){e=t})),cancel:e}};var Ae=be;function we(e){var t=new _e(e),r=y(_e.prototype.request,t);return O.extend(r,_e.prototype,t),O.extend(r,t),r}var Ee=we(le);Ee.Axios=_e,Ee.create=function(e){return we(ge(Ee.defaults,e))},Ee.Cancel=$e,Ee.CancelToken=Ae,Ee.isCancel=B,Ee.all=function(e){return Promise.all(e)},Ee.spread=function(e){return function(t){return e.apply(null,t)}},Ee.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var Oe=Ee;Oe.default=Ee;var Re=Oe;function Se(e,t){if(1===arguments.length&&(t=e,e=void 0),!t)return()=>{};t.includes("return")||(t="return "+(t=t.replace(/^\s*/g,"")));try{return e?new Function(...e,t):new Function(t)}catch(e){throw console.warn("函数解析失败",`'${t}'`),new Error(`函数解析失败:${t}'`)}}const je={};function xe(e){return new Promise((t=>{je[e]?t(je[e]):"function"==typeof e?t(e()):/(\.json)$/.test(e)?Re.get(e,{baseURL:""}).then((r=>{t(je[e]=r.data)})):/^(api|\/api)/.test(e)?Re.get(e).then((r=>{t(je[e]=r.data.data)})):/(\.js)$/.test(e)?window.require([e],(e=>{t(e)})):"[object Object]"===Object.prototype.toString.call(e)?t(e):t(Se("",e)())}))}class Ce{static $isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}static $isArray(e){return Array.isArray(e)}static $isString(e){return"string"===(e instanceof String||(typeof e).toLowerCase())}static $isFunction(e){return"function"==typeof e}static $checkSpecialKey(e){if(e){const r='~!@#$%^&*+{}|"<>?';for(var t=0;t<e.length;t++)if(-1!==r.indexOf(e.substr(t,1)))return!1;return!0}return!0}}var De,Be,Pe=(function(e,t){e.exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}()}(Be={path:De,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},Be.exports),Be.exports);const qe=Re.CancelToken;class Fe{constructor(e={}){this._serviceKeys=null,this._token=null,this._myServiceConfig={},this.axiosObj=null,this.apiCancelToken={},this._serviceKeys=e.serviceKeys||null,this._token=e.token||null,this._tokenKey=e.tokenKey||"__token__",this._myServiceConfig=e._myServiceConfig||{},e.overrideMethod&&Ce.$isObject(e.overrideMethod)&&Object.entries(e.overrideMethod).forEach((([e,t])=>{this[e]&&"function"==typeof this[e]&&"function"==typeof t&&(Fe.prototype[e]=t)})),this.$loadServicesConfig()}async $loadServicesConfig(){let e=this._serviceKeys||[];const t=this._myServiceConfig;let r=e.length,n=null,o=null,i=null;for(let s=0;s<r;s++)n=e[s],o=xe(n),i=await o,Object.assign(t,i)}$getServiceConfig(e,t=[],r=0){if(r>=t.length)return null;const n=e.split(".");let o=null;if(n.forEach((e=>{o=o?o[e]:t[r][e]})),!o){o=this.$getServiceConfig(e,t,r+1)}return o}$getService(e={}){let t=this.axiosObj;if(!t){const r=window.$service_global||{};Object.assign(r,e),t=Re.create(r),t.interceptors.request.use((e=>(this.$setRequestHeaders(e),e)),(e=>(console.warn("[@vogter/vue3-axios] 发起接口请求出现异常！"),console.warn(e),Promise.reject(e)))),t.interceptors.response.use((e=>Promise.resolve(e)),(e=>(this.$axiosRespErrorHook(e),Promise.resolve(e)))),this.axiosObj=t}return t}$setRequestHeaders(e){if(e.certificate){const t=this._token||Pe.get(this._tokenKey);Object.entries({Author:e.author,Authorization:t,"X-Http-Method-Override":e._method,"Cache-Control":"no-cache","Cache-control":"no-store",Pragma:"no-cache",Expires:1}).forEach((([t,r])=>{r&&(e.headers[t]=r)}))}else e.headers["X-Http-Method-Override"]=e._method,e.headers.Author=e.author;return e}$cancelFetchApi(e){const t=this.apiCancelToken||{};let r={};for(var n in"string"===(e instanceof String||(typeof e).toLowerCase())&&"[object Object]"===Object.prototype.toString.call(t[e])?r[e]=t[e]:r=t,r)"[object Object]"===Object.prototype.toString.call(t[e])&&r[n].abort(),t[n]=null}$disposeAxios(){this.axiosObj&&(this.axiosObj=null)}$axiosRespErrorHook({}={}){}$newCancelToken(e){const t=this;return new qe((r=>{t.apiCancelToken||(t.apiCancelToken={}),t.apiCancelToken[e]=r}))}$fetchData(e,t,r){const n=this.$getService(r),o=this.$getServiceConfig(e,[this._myServiceConfig||{},window.$vogter.$service_config||{}],0);if(!o)throw console.warn('[@vogter/vue3-axios] api.json配置例子：\n\n        {\n            "system": {\n              "system": {\n                "remark": "login api",\n                "author": "author",\n                "method": "get",\n                "url": "/api/v1/login",\n                "params": {}\n              }\n            }\n        }'),new Error(`【${e}】接口未配置，请前往服务器根目录下的api配置文件(/api.json)中进行配置！`);const i=Object.assign({params:{},cancelToken:this.$newCancelToken(e)},o,t),{apiDebug:s}=window.$vogter||{};s&&(i.params.debug=!0);return n(i)}$fetchDataByUrl(e,t,r){if(!e||!e.length)throw new Error("【url】参数未配置！");const n=this.$getService(r),o={url:e},i=Object.assign({params:{},cancelToken:this.$newCancelToken(e)},o,t),{apiDebug:s}=window.$vogter||{};s&&(i.params.debug=!0);return n(i)}}function Ue(e,t){const r=[];return(e=e||[]).forEach((e=>{Array.isArray(e)?r.push(Ue(e,t)):Ce.$isObject(e)?r.push(ke(e,t)):r.push(Te(e,t))})),r}function ke(e,t){const r={};return Object.entries(e).forEach((([e,n])=>{r[e]=Array.isArray(n)?Ue(n,t):Ce.$isObject(n)?ke(n,t):Te(n,t)})),r}function Te(e,t){let r=e||null;if(r){const e=-1===r.indexOf("@"),n=r.replace(/{/g,"@").replace(/}/g,"@").split("@");if(Array.isArray(t)){const o=[];n.forEach(((n,i)=>{if(o.push(!1),n&&n.length>0){const s=n.split(".");s.length>0&&t.forEach((t=>{if(!o[i]){const a=Le(t,s,0,e);null!==a&&(o[i]=!0,r=e?r.replace(["{",n,"}"].join(""),a):a)}}))}})),o.forEach(((t,o)=>{const i=n[o];!t&&i&&i.length>0&&(r=e?r.replace(["{",i,"}"].join(""),""):null)}))}else n.forEach((n=>{if(n&&n.length>0){const o=n.split(".");if(o.length>0){const i=Le(t,o,0,e);r=null!==i?e?r.replace(["{",n,"}"].join(""),i):i:e?r.replace(["{",n,"}"].join(""),""):null}}}))}return r}function Le(e,t,r,n=!0){let o=null;if(null!=e)if(r<t.length){const i=t[r],s=1*i;Number.isFinite(s)&&Array.isArray(e)&&e[s]?o=Le(e[s],t,++r,n):i in e&&(o=Le(e[i],t,++r,n))}else o=n&&Array.isArray(e)?e.join(","):e;return o}var Ne=Object.freeze({__proto__:null,$matchData4Array:Ue,$matchData4Object:ke,$matchData4String:Te});class Me{constructor(e,t,r){Me.__apiService__=e,Me.__app__=t,Me.__$app__=r,this.$initApp()}static $getAppPropsMustValue(e){return Reflect.has(Me.__app__.$props,e)||console.error(`[@vogter/vue3-axios] use ComponentsApiService's components must  has [${e}] props `),Reflect.get(Me.__app__.$props,e)}static $getAppPropsValue(e){return Reflect.get(Me.__app__.$props,e)}static $initComponentsApiService(e){e.$setApiParams&&e.$setApiParams(),e.$setUiParams&&e.$setUiParams()}$initApp(){return this.$initAppProps().$initAppData().$initAppWatch().$initAppComputed()}$initAppProps(){const e={props:{api:{type:[Object,Array]},filter:{type:Object},formatRules:{type:Array},cacheApiKey:{type:String,default:()=>"default"},apiSuspend:{type:Boolean,default:()=>!1}}};return Me.__demo_props__=e,this}$initAppData(){return Object.assign(Me.__app__.$data,{apiDataStore:{ready:!1,apiReadyCount:0,fetchDatas:[]},apiDataList:null,isApiFirstFetched:!0,myFilter:{},apiParams:{},uiParams:{}}),this}$initAppWatch(){const e=Me.__app__;return e.$watch((()=>g.cloneDeep(e.filter)),((e,t)=>{this.$setApiParams(),this.$setUiParams()}),{deep:!0,immediate:!1}),e.$watch((()=>g.cloneDeep(e.myFilter)),((e,t)=>{this.$setApiParams(),this.$setUiParams()}),{deep:!0,immediate:!1}),e.$watch((()=>g.cloneDeep(e.apiParams)),((t,r)=>{if(g.isEqual(t,r))return;let{isApiFirstFetched:n,apiSuspend:o}=e;n?(n=!1,this.$fetchApiData(t,o)):this.$fetchApiData(t)}),{deep:!0,immediate:!1}),e.$watch((()=>g.cloneDeep(e.uiParams)),((t,r)=>{if(g.isEqual(t,r))return;if(e.apiSuspend)return;Ce.$isFunction(e.$clearData)&&e.$clearData();((e.apiDataStore||{}).fetchDatas||[]).forEach((e=>{e.rendered=!1,this.$filterFetchDataByUi(e,t)}))}),{deep:!0,immediate:!1}),e.$watch((()=>g.cloneDeep(e.api)),((t,r)=>{g.isEqual(t,r)||this.$fetchApiData(e.apiParams)}),{deep:!0,immediate:!1}),this}$initAppComputed(){return this}$fetchApiData(e,t=!1){if(t)return;const r=Me.__app__;if(Ce.$isFunction(r.$fetchApiData))return void r.$fetchApiData(e,t);const n=Me.$getAppPropsValue("api");if(!n||0==n.length)return void console.warn("[@vogter/vue3-axios] please in components set api props");Ce.$isFunction(r.$clearData)&&r.$clearData();const o=r.apiDataStore;o.fetchDatas=[],o.ready=!1,o.apiReadyCount=0,this.$onFetchData(n,e)}async $onFetchData(e,t){if(!e||0===e.length)return;Ce.$isObject(e)&&(e=[e]);const r=e.length;for(let n=0;n<r;n++){const r=e[n];if(!r.apiMethod&&!r.apiUrl)return;await this.$oneFetchData(r,n,t)}}async $oneFetchData(e,t,r){const n=Me.__app__,o=Me.__apiService__,{apiMethod:i,apiUrl:s,subApis:a,respMatch:c}=e;let u=this.$getApiOptions(e,r);const p=Ce.$isFunction(n.$beforeFetch)&&await n.$beforeFetch(u,e,r);u=p||u;let h={};i&&i.length>0?h=await o.$fetchData(i,u,{}).catch((t=>{Ce.$isFunction(n.$fetchApiError)&&n.$fetchApiError({api:e,apiMethod:i,apiOpt:u,error:t})})):s&&s.length>0&&(h=await o.$fetchDataByUrl(s,u,{}).catch((t=>{Ce.$isFunction(n.$fetchApiError)&&n.$fetchApiError({api:e,apiUrl:s,apiOpt:u,error:t})})));let f=this.$handleFetchApiData(h,c);const l=e=>{n.apiDataStore.fetchDatas.push(e),Ce.$isFunction(n.$everyFetched)?n.$everyFetched(e):this.$everyFetched(e)};if(f.length>0&&a&&a.length>0){const e=a.length;for(let n=0;n<e;n++){const o=a[n];f=await this.$fetchSubApi(f,o,r),n+1===e&&l({data:f,rendered:!1,apiIndex:t})}}else l({data:f,rendered:!1,apiIndex:t});this.$fetchFinished(t)}async $fetchSubApi(e,t,r){const n=Me.__app__,o=Me.__apiService__,i=this.$getSubApiOptions(e,t,r),{apiMethod:s,apiUrl:a,respMatch:c}=t;let u={};s&&s.length>0?u=await o.$fetchData(s,i,{}).catch((e=>{Ce.$isFunction(n.$fetchSubApiError)&&n.$fetchSubApiError({subApi:t,apiMethod:s,apiOpt:i,error:e})})):a&&a.length>0&&(u=await o.$fetchDataByUrl(a,i,{}).catch((e=>{Ce.$isFunction(n.$fetchSubApiError)&&n.$fetchSubApiError({subApi:t,apiUrl:a,apiOpt:i,error:e})})));let p=this.$handleFetchApiData(u,c);return p=await this.$mergeData(e,p,t),p}$getAllApiData(){const e=[];return((Me.__app__.apiDataStore||{}).fetchDatas||[]).forEach((t=>{const{data:r}=t||{};r&&(Ce.$isArray(r)?e.push(...r):e.push(r))})),e}$everyFetched(e){this.$filterFetchDataByUi(e,Me.__app__.uiParams)}$fetchFinished(e){const t=Me.__app__,r=Me.$getAppPropsMustValue("api"),n=t.apiDataStore;if(Ce.$isObject(r))n.apiReadyCount=1,n.ready=!0;else if(Ce.$isArray(r)&&n){let e=n.apiReadyCount||0;e++,n.apiReadyCount=e,n.ready=r.length===e}if(n.ready){Ce.$isFunction(t.$renderFetchData)&&t.$renderFetchData(n);const e=this.$getAllApiData();Object.assign(Me.__app__.$data,{apiDataList:e})}}$filterFetchDataByUi(e={},t){const r=Me.__app__,n=Me.$getAppPropsValue("formatRules"),{data:o}=e;e.renderData=this.$filterData(o||[],t,n,null),Ce.$isFunction(r.$renderData)&&r.$renderData(e)}$setApiParams(){let e={};const t=Me.__app__;e=g.merge(e,{isvogterAxios:!0});const{filter:r,myFilter:n}=t;return g.merge(e,r,n),t.$data.apiParams=Object.assign(t.$data.apiParams,e||{}),e}$setUiParams(){const e={},t=Me.__app__,r=Me.$getAppPropsValue("uiFilterMatch");if(r){let n={};for(const t in r){const o=r[t];o&&null!=n[o]&&(e[t]=n[o])}n=t.filter||{};for(const t in r){const o=r[t];o&&null!=n[o]&&(e[t]=n[o])}n=t.myFilter||{};for(const t in r){const o=r[t];o&&null!=n[o]&&(e[t]=n[o])}}return Object.keys(e).length>0&&(t.$data.uiParams=Object.assign(t.$data.uiParams,e||{})),e}$getApiOptions(e,t){const r=Me.__app__;let{axiosOptions:n,queryParams:o,queryParamsMatch:i,bodyParams:s,bodyParamsMatch:a}=e,c={},u={};return i?(c=ke(i,[t||{},r]),o=Object.assign({},o,c)):o=Object.assign({},o,t),a?a instanceof String||(typeof a).toLowerCase()?(u=Te(a,[t||{},r]),s=u):(u=ke(a,[t||{},r]),s=Object.assign({},s,u)):s&&(s=Object.assign({},s,t)),n=g.merge({},n,s?{params:o,data:s}:{params:o}),n}$getSubApiOptions(e,t,r){const n=this.$getApiOptions(t,r),{queryParamsRela:o,bodyParamsRela:i}=t;let{params:s,data:a}=n;s||(s=n.params={});for(const t in o){const r=o[t],n=[];e.forEach((e=>{const t=e[r];null!=t&&n.push(t)})),n.length>0&&(s[r]=n.join(","))}a||(a=n.data={});for(const t in i){const r=i[t],n=[];e.forEach((e=>{const t=e[r];null!=t&&n.push(t)})),n.length>0&&(a[r]=n.join(","))}return n}$filterData(e,t,r,n){let o=e||[];const i={};for(const e in t)null!=t[e]&&""!==t[e]&&(i[e]=t[e]);r=r||[];const s=Object.entries(i),a=(e,r)=>{let n=!0;if(Array.isArray(r))for(let e=0,t=r.length;e<=t&&(n=a(e,r[e]),!n);e++);else if(Ce.$isObject(r)){for(const e in r)if(n=a(e,r[e]),n)break}else if(null!=t[e]){let e=!1;s.forEach((([t,o])=>{Ce.$isArray(o)?(o.forEach((t=>{e=e||t.indexOf(r)>-1||r.indexOf(t)>-1})),n=e):"string"==typeof r?n=n&&(r.indexOf(o)>-1||o.indexOf(r)>-1):"number"==typeof r?(r=r.toString(),n=n&&(r.indexOf(o)>-1||o.indexOf(r)>-1)):n=n&&o===r}))}else n=!1;return n};if(s.length>0||r.length>0){o=[];for(let t=0,n=e.length-1;t<=n;t++){r.forEach((e=>{}));let n=!0;s.length&&(n=a(t,e[t])),n&&o.push(e[t])}}return o}async $mergeData(e,t,r){const n=Me.__app__;e=e||[],t=t||[];const o=(r=r||{}).mergeRelations,i=r.mergeTargetKey||"",s=Ce.$isObject(o)?[o]:o||[];if(0===e.length||0===t.length)return e;let a=Ce.$isFunction(n.$beforeMerge)?await n.$beforeMerge(e,t,s,r):void 0;if(!1!==a){a=a||e||[],s.forEach((e=>{if(e){const o=Object.entries(e);let s={};r.mergeKey?t.forEach((t=>{const n=Object.keys(e),o=[];n.forEach((e=>{o.push(t[e])}));const i=o.join("_");s[i]=s[i]||{},s[i][r.mergeKey]=s[i][r.mergeKey]||[],s[i][r.mergeKey].push(t)})):s=g.keyBy(t,(e=>{const t=[];return o.forEach((([r,n])=>{e[r]&&t.push(e[r])})),t.join("_")}));let c=a;i&&i.length>0&&(c=Ce.$isArray(a)?a[0][i]:a[i]),c.forEach((t=>{const r=[];o.forEach((([e,n])=>{t[n]&&r.push(t[n])}));const i=s[r.join("_")];Ce.$isFunction(n.$afterMerge)&&n.$beforeEveryMerge(t,i,e),i&&g.merge(t,i),Ce.$isFunction(n.$afterEveryMerge)&&n.$afterEveryMerge(t,i,e)}))}}));const o=Ce.$isFunction(n.$afterMerge)&&await n.$afterMerge(a,t,s,e);o&&(a=o)}return a}$handleFetchApiData(e,t="@data.data@"){let r=Te(t,e||{});return Ce.$isArray(r)||(r=[r]),r}static $renderDataDemo(e){const{rendered:t=!1,renderData:r=[]}=e;!0!==t&&r&&r.length>0&&(e.rendered=!0)}static $renderFetchDataDemo(e){const{fetchDatas:t=[]}=e;t.forEach((e=>{const{rendered:t=!1,renderData:r=[]}=e;!0!==t&&r&&r.length>0&&(e.rendered=!0)}))}}let He=null;class ze{constructor(e){this.computed={$apiServiceOpts:()=>({overrideMethod:{}})},He=e}data(){return{$apiService:null}}created(){this.$apiService=new Fe(this.$apiServiceOpts),this.$props.enableCompApiService&&(this.$data.$componentsApiService=new Me(this.$apiService,this,He))}mounted(){this.$props.enableCompApiService&&this.$nextTick((()=>{this.$data.$componentsApiService&&Me.$initComponentsApiService(this.$data.$componentsApiService)}))}beforeDestory(){this.$apiService.$cancelFetchApi(),this.$apiService.$disposeAxios()}}const Ie={...Ne,$loadConfig:xe,$string2function:Se,$dtaCheck:Ce};return{install:(e,t)=>{Object.entries(Ie).forEach((([t,r])=>{e.config.globalProperties[t]=r})),window.$vogter||(window.$vogter={}),window.$vogter.$apiService=new Fe,Ie.$loadConfig(t.apiPath||"/api.json").then((e=>{window.$vogter.$service_config=e})),e.mixin(new ze(e))}}}(http,https,url,require$$0$1,assert,require$$0,zlib,_);
